{% extends 'base.html' %}

{% block content %}
<div class="homepage my-10">

  <div class="my-10">
    {% block title %} Home {% endblock %}
    <h1 class="md:text-4xl text-2xl" style="color:#012169">
      Recordings for <span class="font-bold">Math 218: Matrices and Vector Spaces</span></h1>
    <p class="my-4 md:text-xl">Class description text. Any special instructions about how to use this site or any system
      that the instructors and TAs use. </p>
  </div>

  <div class="flex flex-row items-center mb-4">


    <button class=" p-2 mr-2 rounded-lg text-gray-600 hover:text-white hover:bg-blue-900">
      <a href="{{ url_for('index')}}" class="hover:text-white">
        <svg class="" width="14" height="14" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="12" height="3" rx="0.5" fill="currentColor" />
          <rect y="5" width="12" height="3" rx="0.5" fill="currentColor" />
          <rect y="10" width="12" height="3" rx="0.5" fill="currentColor" />
        </svg>
      </a>
    </button>
    <button class="p-2 bg-gray-50 border border-gray-100 mr-4 rounded-lg">
      <a href="{{ url_for('card')}}" class="hover:text-white">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="#012169" xmlns="http://www.w3.org/2000/svg">
          <rect x="8" width="5.29412" height="5.29412" rx="0.5" fill="012169" />
          <rect width="5.29412" height="5.29412" rx="0.5" fill="012169" />
          <rect x="8" y="8" width="5.29412" height="5.29412" rx="0.5" fill="012169" />
          <rect y="8" width="5.29412" height="5.29412" rx="0.5" fill="012169" />
        </svg>
      </a>
    </button>
    
    {% if selected_tag != "" %}
    <div > Selected Tag:
      <a href="{{ url_for('card')}}" class="hover:text-blue-400">
        <span class="badge bg-blue-400 text-white hover:bg-blue-100">
          {{selected_tag}}
        </span>
      </a>
    </div>
    {% endif %}

  </div>
  <!-- search bar -->
  <form method="post">
    <div class="form-group">
        <input type="search" name="keyword" placeholder=""
               class="form-control"
               value="{{ request.form['keyword'] }}" onkeyup="this.value = this.value.replace(/[^A-Za-z0-9_-\s]/g, '')">
        </input>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
    </div>
  </form>
  <br>

  <hr class="mb-2">

  <div class="card-deck md:mt-6 mt-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    {% for recording in recordings %}
    <div class="card hover:shadow-md mb-3 max-w-md">
      

        <div class="card-header grid grid-flow-col bg-transparent">
          <div class="justify-self-start">
            {{ recording[3] }}
          </div>
          <div class="justify-self-end">
            <button
          class="ml-3 hover:border bg-white hover:shadow hover:border-gray-600 rounded-lg p-1 hover:border hover:border-gray-100 text-gray-400 hover:text-blue-600">
          <a href="{{ url_for('edit', recording_id=recording[0]) }}">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
          </svg>
          </a>
        </button>
          </div>
        </div>
        
        <a href="{{ url_for('recording', recording_id=recording[0]) }}" >
        <div class="card-body">

          <h5 class="card-title hover:underline font-semibold text-2xl"> {{ recording[2] }}

          </h5>
          <div class="my-2 self-start items-center">
            {% for tag, value in recording[9] | dictsort(false, 'value', reverse=true) %}
            {% if tag == selected_tag %} 
            <span class="badge bg-blue-400 text-white">{{ tag }}</span>
            {% elif recording[9][tag] <= -3 %} <a href="{{ url_for('cardTagFilter', tag=tag) }}">
          <span class="badge text-blue-400 bg-blue-50 hover:bg-blue-400 hover:text-white">{{ tag }}</span></a>
          {% elif recording[9][tag] >= 3 %}
          <a href="{{ url_for('cardTagFilter', tag=tag) }}">
            <span class="badge text-blue-400 bg-blue-200 hover:bg-blue-400 hover:text-white">{{ tag }}</span></a>
          {% else %}
          <a href="{{ url_for('cardTagFilter', tag=tag) }}">
            <span class="badge text-blue-400 bg-blue-100 hover:bg-blue-400 hover:text-white">{{ tag }}</span>
          </a>
          {% endif %}
          {% endfor %}
          </div>
          <!-- <div class="bg-transparent" style="color:#666666"> {{ recording[3] }}</div> -->
      </a>
    </div>
    
    <!-- <div class="card-footer bg-transparent">
        <div class="my-2 self-start items-center">
        {% for tag in recording[9] %}
        <span class="badge text-white bg-yellow-500 hover:bg-yellow-600">{{ tag }}</span>
      {% endfor %}
      </div>
      </div> -->
  </div>
  {% endfor %}

</div>




{% endblock %}
