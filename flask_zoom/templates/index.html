{% extends 'base.html' %}

{% block content %}
<div class="homepage my-10">

  <div class="my-10">
    {% block title %} Home {% endblock %}
      <h1 class="md:text-4xl text-2xl" style="color:#012169"><span class="font-bold">Math 218: Matrices and Vector Spaces</span> </h1>
    <p class="my-4 md:text-xl">Class description text. Any special instructions about how to use this site or any system
      that the instructors and TAs use. </p>
  </div>

  <div class="flex flex-row items-center mb-4">


    <button class="bg-gray-50 p-2 mr-2 rounded-lg border border-gray-100">
      <a href="{{ url_for('index')}}" class="hover:text-white">
        <svg class="" width="14" height="14" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="12" height="3" rx="0.5" fill="#012169" />
          <rect y="5" width="12" height="3" rx="0.5" fill="#012169" />
          <rect y="10" width="12" height="3" rx="0.5" fill="#012169" />
        </svg>
      </a>
    </button>
    <button class="p-2 mr-4 text-gray-600 rounded-lg hover:text-white hover:bg-blue-900">
      <a href="{{ url_for('card')}}" class="hover:text-white">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="8" width="5.29412" height="5.29412" rx="0.5" fill="currentColor" />
          <rect width="5.29412" height="5.29412" rx="0.5" fill="currentColor" />
          <rect x="8" y="8" width="5.29412" height="5.29412" rx="0.5" fill="currentColor" />
          <rect y="8" width="5.29412" height="5.29412" rx="0.5" fill="currentColor" />
        </svg>
      </a>
    </button>
    <!-- <button class="hover:bg-gray-50 rounded-lg p-2 border border-gray-100">

      <div class="flex flex-row">
        <div>
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M14 6L4 6M6 12H4H6ZM6 12C6 12.5304 6.21071 13.0391 6.58579 13.4142C6.96086 13.7893 7.46957 14 8 14C8.53043 14 9.03914 13.7893 9.41421 13.4142C9.78929 13.0391 10 12.5304 10 12L6 12ZM6 12C6 11.4696 6.21071 10.9609 6.58579 10.5858C6.96086 10.2107 7.46957 10 8 10C8.53043 10 9.03914 10.2107 9.41421 10.5858C9.78929 10.9609 10 11.4696 10 12L6 12ZM18 18C18 17.4696 17.7893 16.9609 17.4142 16.5858C17.0391 16.2107 16.5304 16 16 16C15.4696 16 14.9609 16.2107 14.5858 16.5858C14.2107 16.9609 14 17.4696 14 18H18ZM18 18C18 18.5304 17.7893 19.0391 17.4142 19.4142C17.0391 19.7893 16.5304 20 16 20C15.4696 20 14.9609 19.7893 14.5858 19.4142C14.2107 19.0391 14 18.5304 14 18H18ZM18 18H20H18ZM14 18L4 18L14 18ZM10 12L20 12L10 12ZM18 6C18 5.46957 17.7893 4.96086 17.4142 4.58579C17.0391 4.21071 16.5304 4 16 4C15.4696 4 14.9609 4.21071 14.5858 4.58579C14.2107 4.96086 14 5.46957 14 6H18ZM18 6C18 6.53043 17.7893 7.03914 17.4142 7.41421C17.0391 7.78929 16.5304 8 16 8C15.4696 8 14.9609 7.78929 14.5858 7.41421C14.2107 7.03914 14 6.53043 14 6H18ZM18 6H20H18Z"
              stroke="#B5B5B5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </div>
        <div class="px-2">
          Filters
        </div>
      </div>
    </button> -->

    {% if selected_tag != "" %}
    <div > Selected Tag:
      <a href="{{ url_for('index')}}" class="hover:text-blue-400">
        <span class="badge bg-blue-400 text-white hover:bg-blue-100">
          {{selected_tag}}
        </span>
      </a>
    </div>
    {% endif %}

  </div>

  <!-- search bar -->
  <form method="post">
    <div class="form-group">
        <input type="search" name="keyword" placeholder=""
               class="form-control"
               value="{{ request.form['keyword'] }}" onkeyup="this.value = this.value.replace(/[^A-Za-z0-9_-\s]/g, '')">
        </input>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
    </div>
  </form>
  <br>

  <hr>

  <div class="grid grid-cols-5 my-2 px-2 text-blue-900 rounded-md font-semibold">
    <div class="col-span-1 flex flex-row">
      <div class="bi bi-calendar-event hidden md:block md:mr-2"></div>
      <!-- <div>DATE</div> -->
      <div class=" hidden md:block md:mr-2">DATE</div>
      <!-- make this a button/link to reverse order of recordings -->
      <a href="{{ url_for('index') }}"  class="bi bi-arrow-down-up hidden md:block md:mr-2"></a>
    </div>
    <div class="col-span-2 flex flex-row">
      <div class="bi bi-type hidden md:block md:mr-2"></div>
      <div>TOPIC</div>
    </div>
    <div class="col-span-2 flex flex-row">
      <div class="bi bi-tags hidden md:block md:mr-2"></div>
      <div>TAGS</div>
    </div>
  </div>
  <hr class="mb-2">
  {% for recording in recordings %}
  <div
    class="grid grid-cols-5 my-2 p-2 rounded border border-gray-800 shadow-sm hover:shadow-lg hover:bg-gray-50 overflow-x-auto min-w-full">
    <div class="col-span-1 ">{{recording[3]}}</div>
    <div class="col-span-2 font-semibold">
      <a href="{{ url_for('recording', recording_id=recording[0]) }}">
        <div class="flex flex-row items-center hover:text-blue-600">
          <div class=" underline">{{recording[2]}}</div>
          <button class="ml-3 bg-white rounded-lg p-1">
            <div class="flex flex-row items-center text-gray-400 hover:text-blue-600 hover:border ">
              <div><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="none">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 8V4m0 0h4M3 4l4 4m8 0V4m0 0h-4m4 0l-4 4m-8 4v4m0 0h4m-4 0l4-4m8 4l-4-4m4 4v-4m0 4h-4" />
                </svg></div>
              <div class="text-xs">VIEW</div>
            </div>
          </button>
        </div>
      </a>
    </div>
    <div class="col-span-2 grid grid-cols-10">
      <div class="col-span-9">

        {% for tag, value in recording[9] | dictsort(false, 'value', reverse=true) %}
        {% if tag == selected_tag %} 
        <span class="badge bg-blue-400 text-white">{{ tag }}</span>
        {% elif recording[9][tag] <= -3 %} <a href="{{ url_for('indexTagFilter', tag=tag) }}">
          <span class="badge text-blue-400 bg-blue-50 hover:bg-blue-400 hover:text-white">{{ tag }}</span></a>
          {% elif recording[9][tag] >= 3 %}
          <a href="{{ url_for('indexTagFilter', tag=tag) }}">
            <span class="badge text-blue-400 bg-blue-200 hover:bg-blue-400 hover:text-white">{{ tag }}</span></a>
          {% else %}
          <a href="{{ url_for('indexTagFilter', tag=tag) }}">
            <span class="badge text-blue-400 bg-blue-100 hover:bg-blue-400 hover:text-white">{{ tag }}</span>
          </a>
          {% endif %}
          {% endfor %}
      </div>
      <div class="col-span-1 justify-self-end">
        <button
          class="ml-3 hover:border bg-white hover:shadow hover:border-gray-600 rounded-lg p-1 hover:border hover:border-gray-100 text-gray-400 hover:text-blue-600">
          <a href="{{ url_for('edit', recording_id=recording[0]) }}">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </a>
        </button>

      </div>
      <!-- <div class="col-span-1 justify-self-end">
        <button
          class="ml-3 hover:border bg-white hover:shadow hover:border-gray-600 rounded-lg p-1 hover:border hover:border-gray-100 text-gray-400 hover:text-blue-600">
          <a href=""> Create
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </a>
        </button>

      </div> -->
    </div>
  </div>
  {% endfor %}


</div>




{% endblock %}